<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - EXPENDIO</title>
    <link rel="stylesheet" href="/view/CSS/dashboard.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body>
    <header>
      <div class="header-container container">
        <div class="logo">EXPENDIO</div>
        <div class="nav-links">
          <a href="/dashboard" class="nav-item">Mi Dashboard</a>
          <a href="/presupuestos" class="nav-item">Mis Presupuestos</a>
          <a href="/gastos" class="nav-item">Mis Gastos</a>
          <a href="/categorias" class="nav-item">Mis Categorías</a>
        </div>
        <div class="auth-links">
          <div class="user-avatar">
            <span class="material-symbols-outlined">person</span>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="components-container">
        <section class="left-section">
          <div id="budget-card">
            <div class="budget-card">
              <h3>Tu Presupuesto</h3>
              <div class="montos">
                <div class="amount-box">
                  <h5 class="total">Total</h5>
                  <p class="total" id="totalBudget"></p>
                </div>
                <div class="amount-box">
                  <h5 class="gastado">Gastado</h5>
                  <p class="gastado" id="gastadoBudget"></p>
                </div>
                <div class="amount-box">
                  <h5 class="restante">Restante</h5>
                  <p class="restante" id="restanteBudg"></p>
                </div>
              </div>
              <div class="percentage-bar">
                <h5>Presupuesto utilizado:</h5>
                <div class="progress-container">
                  <div class="progress-bar" id="progress-bar"></div>
                </div>
              </div>
            </div>
          </div>

          <div id="add-gasto-card">
            <div class="expense-form">
              <h3>Agrega un gasto rápido:</h3>
              <form id="gastoForm">
                <div class="form-container">
                  <div class="form-column">
                    <div class="form-group">
                      <label for="titulo">Descripción</label>
                      <input
                        type="text"
                        id="descripcion"
                        name="descripcion"
                        placeholder="Ingresa una descripción"
                      />
                    </div>

                    <div class="form-group">
                      <label for="monto">Monto</label>
                      <input
                        type="number"
                        id="monto"
                        name="monto"
                        placeholder="0.00"
                        step="0.01"
                        required
                      />
                    </div>

                    <div class="form-group">
                      <label for="categoria">Categoría</label>
                      <select id="categoria" name="categoria" required>
                        <option value="">Selecciona una categoría</option>
                      </select>
                    </div>

                    <div class="form-group">
                      <label for="subcategoria">Subcategoría</label>
                      <select id="subcategoria" name="subcategoria">
                        <option value="">
                          Selecciona primero una categoría
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="form-column">
                    <div class="form-group">
                      <label for="fecha_gasto">Fecha</label>
                      <input
                        type="date"
                        id="fecha_gasto"
                        name="fecha_gasto"
                        required
                      />
                    </div>

                    <button type="submit" class="add-button">
                      Agregar Gasto
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </section>

        <section class="right-section">
          <div id="graph-card">
            <div class="chart-card">
              <h3>Gastos por Categorías</h3>
              <div class="chart-container" id="chartContainer"></div>
            </div>
          </div>

          <div id="ultimos-gastos-card">
            <div class="expenses-card">
              <h3>Últimos Gastos</h3>
              <div class="expenses-list"></div>
              <button class="see-more-button" id="verMasButton">Ver más</button>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
      <div class="toast-content">
        <span id="toast-message">Acción completada con éxito</span>
      </div>
    </div>
  </body>
  <script src="/view/JS/dashboard.js" defer></script>
</html>
